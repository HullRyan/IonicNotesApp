(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{fhSy:function(e,t,o){"use strict";o.r(t),o.d(t,"RegisterPageModule",function(){return f});var i=o("ofXK"),r=o("3Pt+"),s=o("TEn/"),a=o("tyNb"),n=o("mrSG"),c=o("fXoL"),b=o("fKRy");function l(e,t){if(1&e&&(c.Qb(0,"div",10),c.oc(1),c.Pb()),2&e){const e=c.ac().$implicit;c.Bb(1),c.qc(" ",e.message," ")}}function m(e,t){if(1&e&&(c.Ob(0),c.nc(1,l,2,1,"div",13),c.Nb()),2&e){const e=t.$implicit,o=c.ac();c.Bb(1),c.fc("ngIf",o.validations_form.get("email").hasError(e.type)&&(o.validations_form.get("email").dirty||o.validations_form.get("email").touched))}}function d(e,t){if(1&e&&(c.Qb(0,"div",10),c.oc(1),c.Pb()),2&e){const e=c.ac().$implicit;c.Bb(1),c.qc(" ",e.message," ")}}function u(e,t){if(1&e&&(c.Ob(0),c.nc(1,d,2,1,"div",13),c.Nb()),2&e){const e=t.$implicit,o=c.ac();c.Bb(1),c.fc("ngIf",o.validations_form.get("password").hasError(e.type)&&(o.validations_form.get("password").dirty||o.validations_form.get("password").touched))}}const g=[{path:"",component:(()=>{class e{constructor(e,t,o,i){this.authService=e,this.alertCtrl=t,this.formBuilder=o,this.router=i,this.errorMessage="",this.successMessage="",this.validation_messages={email:[{type:"required",message:"Email is required"},{type:"pattern",message:"Please enter a valid email"}],password:[{type:"required",message:"Password is required"},{type:"minLength",message:"Password must be at least 6 characters"}]}}ngOnInit(){this.validations_form=this.formBuilder.group({email:new r.b("",r.m.compose([r.m.required,r.m.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")])),password:new r.b("",r.m.compose([r.m.required,r.m.minLength(6)])),name:new r.b("")})}tryRegister(e){this.authService.registerUser(e).then(t=>{let o={header:"Account created, please login.",message:"For email: "+e.email,buttons:["ok"]};this.showAlert(o),this.authService.signIn(e).then(()=>{this.router.navigate(["/home"]).then(()=>window.location.reload())}).catch(()=>{o={header:"Can't login",message:"Error logging you in",buttons:["ok"]},this.showAlert(o)})},e=>{this.showAlert({header:"Cannot register",message:e.message,buttons:["ok"]})})}showAlert(e){return Object(n.__awaiter)(this,void 0,void 0,function*(){const t=yield this.alertCtrl.create(e);return yield t.present()})}}return e.\u0275fac=function(t){return new(t||e)(c.Lb(b.a),c.Lb(s.a),c.Lb(r.a),c.Lb(a.g))},e.\u0275cmp=c.Fb({type:e,selectors:[["app-register"]],decls:38,vars:6,consts:[["slot","start"],["padding",""],[1,"form",3,"formGroup","ngSubmit"],["position","floating","color","primary"],["type","text","formControlName","name","placeholder","Name"],["type","text","formControlName","email","placeholder","Email"],[1,"validation-errors"],[4,"ngFor","ngForOf"],["type","password","formControlName","password","placeholder","Password"],["type","submit",1,"submit-btn",3,"disabled"],[1,"error-message"],[1,"success-message"],["routerLink","/home"],["class","error-message",4,"ngIf"]],template:function(e,t){1&e&&(c.Qb(0,"ion-header"),c.Qb(1,"ion-toolbar"),c.Qb(2,"ion-buttons",0),c.Mb(3,"ion-menu-button"),c.Pb(),c.Qb(4,"ion-title"),c.oc(5,"Ionic Notes"),c.Pb(),c.Pb(),c.Pb(),c.Qb(6,"ion-content",1),c.Qb(7,"ion-card"),c.Qb(8,"ion-card-header"),c.Qb(9,"ion-card-subtitle"),c.oc(10,"Enter your details"),c.Pb(),c.Qb(11,"ion-card-title"),c.oc(12,"Register"),c.Pb(),c.Pb(),c.Qb(13,"ion-card-content"),c.Qb(14,"form",2),c.Yb("ngSubmit",function(){return t.tryRegister(t.validations_form.value)}),c.Qb(15,"ion-label",3),c.oc(16,"Name"),c.Pb(),c.Mb(17,"ion-input",4),c.Qb(18,"ion-label",3),c.oc(19,"Email"),c.Pb(),c.Mb(20,"ion-input",5),c.Qb(21,"div",6),c.nc(22,m,2,1,"ng-container",7),c.Pb(),c.Qb(23,"ion-label",3),c.oc(24," Password "),c.Pb(),c.Mb(25,"ion-input",8),c.Qb(26,"div",6),c.nc(27,u,2,1,"ng-container",7),c.Pb(),c.Qb(28,"ion-button",9),c.oc(29,"Register"),c.Pb(),c.Qb(30,"label",10),c.oc(31),c.Pb(),c.Qb(32,"label",11),c.oc(33),c.Pb(),c.Pb(),c.Qb(34,"p"),c.oc(35,"Have an account? "),c.Qb(36,"a",12),c.oc(37,"Login "),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&e&&(c.Bb(14),c.fc("formGroup",t.validations_form),c.Bb(8),c.fc("ngForOf",t.validation_messages.email),c.Bb(5),c.fc("ngForOf",t.validation_messages.password),c.Bb(1),c.fc("disabled",!t.validations_form.valid),c.Bb(3),c.pc(t.errorMessage),c.Bb(2),c.pc(t.successMessage))},directives:[s.r,s.z,s.f,s.v,s.y,s.m,s.g,s.i,s.j,s.k,s.h,r.n,r.j,r.d,s.u,s.t,s.E,r.i,r.c,i.j,s.e,a.i,s.D,i.k],styles:[""]}),e})()},{path:"home",loadChildren:()=>o.e(0).then(o.bind(null,"ct+p")).then(e=>e.HomePageModule)}];let p=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.Jb({type:e}),e.\u0275inj=c.Ib({imports:[[a.j.forChild(g)],a.j]}),e})(),f=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.Jb({type:e}),e.\u0275inj=c.Ib({imports:[[i.c,r.e,s.A,r.l,p]]}),e})()}}]);